function save(e){console.log("save",e)
var t=e.split("_")[0]
if("device"===t){var o=e.split("_")[1],s=document.getElementsByClassName(e+"_topic")[0].value,n=s.split("/"),a=document.getElementsByClassName(e+"_iotype")[0].value,l=document.getElementsByClassName(e+"_iopin")[0].value,i=document.getElementsByClassName(e+"_io_default")[0].value,c=document.getElementsByClassName(e+"_inverted")[0].checked,d="http://"+window.location.host+"/set/?device="+o
d+="&iotype="+a,d+="&iopin="+l,d+="&io_default="+i,d+="&inverted="+c
for(var r=0;r<n.length;r++)d+="&address_segment="+encodeURIComponent(n[r])
send(d)}else if("hostname"===t||"publishprefix"===t||"subscribeprefix"===t||"firmwarehost"===t||"firmwaredirectory"===t||"firmwareport"===t||"enablepassphrase"===t||"enableiopin"===t||"ip"===t||"subnet"===t||"gateway"===t||"brokerip"===t||"brokerport"===t){var m=document.getElementsByClassName(t)[0].value
console.log(t)
var d="http://"+window.location.host+"/set/?"+t+"="
d+=encodeURIComponent(m),send(d)}else console.log(e,t)}function send(e){var t=new XMLHttpRequest
t.onreadystatechange=function(){4==t.readyState&&200==t.status&&(console.log("Successful GET"),location.reload())},t.open("GET",e),t.send()}function del(e){console.log("delete",e),"device"===e.split("_")[0]&&(document.getElementsByClassName(e+"_topic")[0].value="",save(e))}